#source:examples/prob_examples/public_examples/EventBPrologPackages/Advance/SafetyMetroSystem_full_23_08_2012.zip_unpacked/SafetyMetroSystem/MetroSystem_M3.bcm
7.223851566666667E7,1.01794998E8,-1.0,-1.0:not((ocA:dom(next)) & (t:trns) & (oc<:CDV) & (ocA:oc) & (oc/\dom(occp)=({} oftype POW(CDV))) & (finite(oc)) & (occpZ(t):dom(next)) & (card(oc)=0=>ocA=occpZ(t)) & (card(oc)>=1=>occpZ(t)/=ocA&next(occpZ(t)):oc) & (speed(t)=0) & (next(ocA)/:oc)) => (next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE)
7.0254861E7,5.9594030666666664E7,-1.0,-1.0:not((t:dom(door)) & (d<:DOOR) & (d<:door(t)) & (door_state[d]={CLOSED}) & (speed(t)=0)) => (next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE)
6.3477555666666664E7,7.5146404E7,-1.0,1.132846782E9:not((next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE)) => not((t:TRAIN \ trns) & (oc:CDV) & (oc/:dom(occp)))
7.806411733333333E7,1.0072204966666667E8,-1.0,3.556645253333333E8:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (s1:NAT) & (t1:dom(door)) & (t1:braking=>s1<speed(t1)) & (door(t1)/\door_state~[{OPEN}]=({} oftype POW(DOOR))) & not((t1:TRAIN) & (t1:braking) & (emergency_button(t1)=FALSE))
7.605122133333333E7,6.8300073E7,-1.0,2.995830916666667E8:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (not((t1:TRAIN) & (t1:braking) & (emergency_button(t1)=FALSE)) => (ac:div_aig_cdv) & (c1:CDV) & (c2:CDV) & (ac |-> c1:next) & (ac |-> c2:net) & (c2/:ran(next)) & (c1/=c2) & (ac/:dom(occp)))
-1.0,-1.0,-1.0,-1.0:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (t:dom(door)) & (value:BOOL) & (door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))&PLATFORM/\occpTrns=({} oftype POW(CDV))=>value=TRUE) & (occpTrns=occp~[{t}]) & not((t1:dom(tmsgs)) & (bb:tmsgs(t1)))
-1.0,-1.0,-1.0,-1.0:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (t:dom(door)) & (value:BOOL) & (door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))&PLATFORM/\occpTrns=({} oftype POW(CDV))=>value=TRUE) & (occpTrns=occp~[{t}]) & not((t1:dom(tmsgs)) & (tmsgs(t1)=({} oftype POW(BOOL))) & (bb=bool(occpZ(t1):dom(next)&next(occpZ(t1))/:dom(occp))))
-1.0,-1.0,-1.0,-1.0:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (t1:dom(tmsgs)) & (bb:tmsgs(t1)) & (t1:dom(tmsgs)) & (tmsgs(t1)=({} oftype POW(BOOL))) & (bb=bool(occpZ(t1):dom(next)&next(occpZ(t1))/:dom(occp)))
2.0618920416666667E9,1.4891488416666667E9,-1.0,2.534257161E9:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (t:trns) & (d<:DOOR) & (!tr oftype TRAIN.tr:dom(door)&tr/=t&door(tr)/=({} oftype POW(DOOR))=>d/\door(tr)=({} oftype POW(DOOR))) & (speed(t)=0) & (d/\door(t)=({} oftype POW(DOOR))) & (t1:trns \ braking) & (t1:dom(emergency_button)) & (permit(t1)=FALSE or emergency_button(t1)=TRUE)
-1.0,-1.0,-1.0,-1.0:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (t1:dom(door)) & (c1:CDV) & (c2:CDV) & (speed(t1)>0) & (c1:dom(next)) & (c1=occpA(t1)) & (c2=next(c1)) & (occpA(t1)/=occpZ(t1)) & (c2:(occp \ {c1 |-> t1})~[{t1}]) & (!tt oftype TRAIN.tt:dom(occpZ)&card((occp \ {c1 |-> t1})~[{tt}])>1=>(occpA<+{t1 |-> c2})(tt)/=occpZ(tt)) & (door(t1)/\door_state~[{OPEN}]=({} oftype POW(DOOR))) & (permit(t1)=TRUE) & (t:dom(door)) & (d<:DOOR) & (d<:door(t)) & (door_state[d]={CLOSED}) & (speed(t)=0)
-1.0,-1.0,-1.0,-1.0:(next<:net) & (next:CDV >+> CDV) & (trns<:TRAIN) & (occp:CDV <-> trns) & (occpA:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpA(tt):occp~[{tt}]) & (occpZ:trns --> CDV) & (!tt oftype TRAIN.tt:trns=>occpZ(tt):occp~[{tt}]) & (braking<:trns) & (speed:trns --> NAT) & (finite(occp~)) & (!tt oftype TRAIN.tt:trns&card(occp~[{tt}])>1=>occpA(tt)/=occpZ(tt)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:trns&t2:trns&t1/=t2=>occp~[{t1}]/\occp~[{t2}]=({} oftype POW(CDV))) & (tmsgs:trns --> POW(BOOL)) & (permit:trns --> BOOL) & (emergency_button:trns --> BOOL) & (door_state:DOOR --> DOOR_STATE) & (door:trns --> POW(DOOR)) & (!t1 oftype TRAIN,t2 oftype TRAIN.t1:dom(door)&t2:dom(door)&t1/=t2=>door(t1)/\door(t2)=({} oftype POW(DOOR))) & (!t oftype TRAIN.t:dom(door)=>(#d oftype POW(DOOR).d<:door(t)&door_state[d]={OPEN}=>speed(t)=0)) & (!t oftype TRAIN.t:dom(door)&speed(t)>0=>door(t)<:door_state~[{CLOSED}]) & (!t oftype TRAIN,d oftype DOOR.t:dom(door)&d:door(t)&PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))=>door_state(d):{OPEN,CLOSED}) & (!t oftype TRAIN.t:dom(door)&door(t)/\door_state~[{OPEN}]/=({} oftype POW(DOOR))=>PLATFORM/\occp~[{t}]/=({} oftype POW(CDV))or emergency_button(t)=TRUE) & (not((t1:dom(door)) & (c1:CDV) & (c2:CDV) & (speed(t1)>0) & (c1:dom(next)) & (c1=occpA(t1)) & (c2=next(c1)) & (occpA(t1)/=occpZ(t1)) & (c2:(occp \ {c1 |-> t1})~[{t1}]) & (!tt oftype TRAIN.tt:dom(occpZ)&card((occp \ {c1 |-> t1})~[{tt}])>1=>(occpA<+{t1 |-> c2})(tt)/=occpZ(tt)) & (door(t1)/\door_state~[{OPEN}]=({} oftype POW(DOOR))) & (permit(t1)=TRUE)) => (t:dom(door)) & (d<:DOOR) & (d<:door(t)) & (door_state[d]={CLOSED}) & (speed(t)=0))

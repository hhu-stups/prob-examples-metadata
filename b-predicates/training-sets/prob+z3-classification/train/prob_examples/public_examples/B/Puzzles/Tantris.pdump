#source:examples/prob_examples/public_examples/B/Puzzles/Tantris.mch
2.4969255266666666E8,2.2328931166666666E8,1.64267281E8,1.3937426433333334E8:not((neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & not((b:BOARD) & (b=BOARDSEQ(curb)))) => not((tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)))
4.9718939333333336E7,1.8569859133333334E8,-1.0,1.7948702333333334E8:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)) & (curb+1:dom(BOARDSEQ)) & (pos1:BOARD) & (pos2:BOARD) & (dir:DIRECTIONS) & (neighbour(pos1)(dir)=pos2) & (tiles(pos1)(dir)/=tiles(pos2)(opposite(dir)))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (not(tiles:BOARD-->TILE) => b:{(0,-1),(0,0),(1,0),(1,1)}&b=[(0,0),(1,0),(1,1),(0,-1)](curb)&tiles<+{(b,%x.(x:0..5|tiles(b)(x+1 mod 6)))}:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (not((tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ))) => (b:{(0,-1),(0,0),(1,0),(1,1)}&b=[(0,0),(1,0),(1,1),(0,-1)](curb)&curb:dom([(0,0),(1,0),(1,1),(0,-1)])) & (b:{(0,-1),(0,0),(1,0),(1,1)}&b=[(0,0),(1,0),(1,1),(0,-1)](curb)&tiles<+{(b,%x.(x:0..5|tiles(b)(x+1 mod 6)))}:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS)))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)) & not((!sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => curb:dom([(0,0),(1,0),(1,1),(0,-1)]))) & (!sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => tiles:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS))))

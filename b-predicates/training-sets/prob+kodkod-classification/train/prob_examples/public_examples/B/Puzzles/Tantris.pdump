#source:examples/prob_examples/public_examples/B/Puzzles/Tantris.mch
8.978006233333333E7,9.33682698E8,-1.0,1.6245918333333334E8:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)) & (curb+1:dom(BOARDSEQ))
-1.0,-1.0,1.1629018366666667E8,-1.0:not((neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ))) => (pos1:BOARD) & (pos2:BOARD) & (dir:DIRECTIONS) & (neighbour(pos1)(dir)=pos2) & (tiles(pos1)(dir)/=tiles(pos2)(opposite(dir)))
4.9718939333333336E7,1.8569859133333334E8,-1.0,1.7948702333333334E8:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)) & (curb+1:dom(BOARDSEQ)) & (pos1:BOARD) & (pos2:BOARD) & (dir:DIRECTIONS) & (neighbour(pos1)(dir)=pos2) & (tiles(pos1)(dir)/=tiles(pos2)(opposite(dir)))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (not(tiles:BOARD-->TILE) => b:{(0,-1),(0,0),(1,0),(1,1)}&b=[(0,0),(1,0),(1,1),(0,-1)](curb)&tiles<+{(b,%x.(x:0..5|tiles(b)(x+1 mod 6)))}:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS))
9.4835896E7,1.114045508E9,-1.0,5.685715106666666E8:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & curb:dom(BOARDSEQ) & !sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => curb:dom([(0,0),(1,0),(1,1),(0,-1)]))
1.17253598E8,1.098128E8,-1.0,6.222348293333334E8:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (not(tiles:BOARD-->TILE) => !sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => tiles:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS)))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (tiles:BOARD-->TILE) & (curb:dom(BOARDSEQ)) & not((!sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => curb:dom([(0,0),(1,0),(1,1),(0,-1)]))) & (!sol.(sol:{(0,-1),(0,0),(1,0),(1,1)}-->0..5&!pos1,dir,pos2.(pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2 => tiles(pos1)(dir+sol(pos1) mod 6)=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir)+sol(pos2) mod 6)) => tiles:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS))))
-1.0,-1.0,-1.0,-1.0:(neighbour=%x,y.((x,y):BOARD|{(N,(x+1,y+1)),(NE,(x+1,y)),(SE,(x,y-1)),(S,(x-1,y-1)),(SW,(x-1,y)),(NW,(x,y+1))})) & ((x,y):BOARD) & (not(tiles:BOARD-->TILE) => pos1:{(0,-1),(0,0),(1,0),(1,1)}&pos2:{(0,-1),(0,0),(1,0),(1,1)}&dir:0..5&neighbour(pos1)(dir)=pos2&tiles(pos1)(dir)/=tiles(pos2)({(0,3),(1,4),(2,5),(3,0),(4,1),(5,2)}(dir))&tiles:{(0,-1),(0,0),(1,0),(1,1)}-->(0..5-->COLOURS))
